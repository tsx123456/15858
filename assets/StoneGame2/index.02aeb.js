System.register("chunks:///_virtual/Stone2BetItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts","./ProxyMgr.ts","./Stone2Proxy.ts","./GameDef.ts"],(function(t){var e,n,o,i,r,c,a,u,l,s,f,m,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Label,u=t.Node,l=t.Component},function(t){s=t.Common},function(t){f=t.default},function(t){m=t.default,p=t.StoneGame2Event},function(t){h=t.GameDef}],execute:function(){var _,d,y,b,g,S,v,B;r._RF.push({},"38f9aIG5phFIbenUjLi/NPN","Stone2BetItem",void 0);var C=c.ccclass,E=c.property,I=c.menu;t("default",(_=C("Stone2BetItem"),d=I("game/StoneGame2/Stone2BetItem"),y=E(a),b=E(u),_(g=d((v=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,o(e,"txt_bet",v,i(e)),o(e,"node_light",B,i(e)),e._count=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){m.on(p.SELECT_BET,this.onSelect,this)},r.onClickBet=function(){m.emit(p.SELECT_BET,this._count)},r.setBet=function(t,e){void 0===e&&(e=!1),this._count=t;var n=t*(e?1.5:1);this.txt_bet.string=s.numberFormat(n/h.Constant.moneyRatio,2)},r.onSelect=function(t){this.node_light.active=t===this._count},r.onDestroy=function(){f.close(this)},e}(l)).prototype,"txt_bet",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(S.prototype,"node_light",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Stone2CardAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Stone2Proxy.ts"],(function(t){var e,i,n,s,r,a,o,h,d,u,l,c,p,v,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,o=t._decorator,h=t.Sprite,d=t.v3,u=t.tween,l=t.UITransform,c=t.Tween,p=t.Component},function(t){v=t.default,f=t.StoneGame2Event}],execute:function(){var g,C,m,y,x,_;a._RF.push({},"2c0e0qxUnVDnKp07tGa9WFq","Stone2CardAni",void 0);var S=o.ccclass,F=o.property,P=o.menu,E=0,I=1,R=2,T=3,H=4,b=5;t("default",(g=S("Stone2CardAni"),C=P("game/StoneGame2/Stone2CardAni"),m=F([h]),g(y=C((_=e((x=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"runningCard",_,s(e)),e.stepHeight=142,e.moveOut=140,e.delayTime=0,e.moveStep=60,e.finishCallBack=null,e._state=E,e.result=void 0,e.leftResultCount=3,e.endNode=void 0,e.endIndex=3,e.fixStep=void 0,e._index=0,e.cards=void 0,e._useExp=!1,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.initEvent()},a.setData=function(t){this._index=t.index,this.cards=t.cards},a.initCard=function(t){if(void 0===t&&(t=null),t)for(var e=0;e<this.runningCard.length;e++){var i=t[e];this.runningCard[e].spriteFrame=this.cards[i],this.runningCard[e].node.scale=d(0,0,1),u(this.runningCard[e].node).delay(.1*e).to(.3,{scale:d(1,1,1)}).start()}else for(var n,s=0,a=r(this.runningCard);!(n=a()).done;){var o=n.value;0==this._index?o.spriteFrame=this.cards[0]:o.spriteFrame=this.cards[this._index+4],o.node.scale=d(0,0,1),u(o.node).delay(.1*s).to(.3,{scale:d(1,1,1)}).start(),s++}},a.start=function(){},a.initEvent=function(){},a.removeEvent=function(){},a.onDestroy=function(){this.removeEvent()},a.randCard=function(t){var e=this.cards.length,i=Math.floor(Math.random()*e);i==e-1&&this._useExp?i-=1:i!=e-2||this._useExp||(i+=1),t.spriteFrame=this.cards[i]},a.resultCard=function(t){if(this.leftResultCount>0){this.leftResultCount--;var e=this.result[this.leftResultCount];t.spriteFrame=this.cards[e],t.node.getComponent(l).priority=this.leftResultCount}},a.showResult=function(t,e){if(void 0===e&&(e=!1),e)for(var i=0;i<3;i++)this.runningCard[i+1].spriteFrame=this.cards[t[i]];else this.result=t,this._state=T},a.show=function(){for(var t,e=r(this.runningCard);!(t=e()).done;){t.value.node.active=!0}this.initPos()},a.hide=function(t){var e=this.endIndex+t-2;e<0&&(e=5+e),c.stopAllByTarget(this.runningCard[e].node),this.runningCard[e].node.active=!1},a.useExp=function(){for(var t,e=r(this.runningCard);!(t=e()).done;){var i=t.value;0==this._index?i.spriteFrame=this.cards[0]:i.spriteFrame=this.cards[this._index+4]}},a.useSpecialExp=function(t){for(var e=0;e<3;e++){var i=this.endIndex+e-2;i<0&&(i=5+i),this.runningCard[i].spriteFrame=t?this.cards[e+4]:this.cards[3*e+1]}this._useExp=t},a.initPos=function(){for(var t=0;t<5;t++){var e=(this.endIndex+t+2)%5;this.runningCard[e].node.setPosition(d(0,284-142*t))}},a.run=function(t){void 0===t&&(t=0),this.show(),this.initPos(),this.delayTime=t,this.moveStep=60,this._state=I,this.leftResultCount=3,this.endNode=null},a.update=function(t){switch(this._state){case I:this.delayTime-=t,this.delayTime<=0&&(this._state=R);break;case R:for(var e=this.runningCard.length,i=0;i<e;i++){var n=this.runningCard[i].node,s=n.getPosition().y-this.moveStep;s<-(this.stepHeight+this.moveOut)&&(s+=5*this.stepHeight,this.randCard(this.runningCard[i])),n.setPosition(0,s)}break;case T:this.moveStep-=2,this.moveStep<20&&(this.moveStep=20);for(var r=this.runningCard.length,a=0;a<r;a++){var o=this.runningCard[a].node,h=o.getPosition().y-this.moveStep;h<-(this.stepHeight+this.moveOut)&&(h+=5*this.stepHeight,this.resultCard(this.runningCard[a]),2==this.leftResultCount&&(this.endNode=o,this.endIndex=a)),o.setPosition(0,h),o==this.endNode&&o.getPosition().y<=-this.stepHeight-5&&(this._state=H,this.fixStep=o.getPosition().y+this.stepHeight)}break;case H:for(var l=this.runningCard.length,c=0;c<l;c++){var p=this.runningCard[c].node,g=p.getPosition().y-this.fixStep;u(p).to(.1,{position:d(p.position.x,g)}).start()}this._state=b,this.delayTime=0;break;case b:this.delayTime-=t,this.delayTime<=0&&(this._state=E,v.emit(f.FINISH_RUN_INDEX,this._index))}},e}(p)).prototype,"runningCard",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=x))||y)||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Stone2Def.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Stone2Proxy.ts"],(function(e){var t,n,r,i,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e.AudioClip},function(e){i=e.default},function(e){o=e.default}],execute:function(){n._RF.push({},"ad4deuTv39HgIe6t4hYNRdT","Stone2Def",void 0);var l=e("Stone2Def",function(){function e(){}return e.playMultple=function(e){var t=Math.floor((e+1)/2);t>0&&this.palyAudio("Multiplier0"+t)},e.palyAudio=function(e,t){void 0===t&&(t=null);var n="sound/"+e;o.bundle.load(n,r,(function(e,n){if(t){var r=i.instance.playSound(n);t(r)}else i.instance.playOneShot(n)}))},e.palyMusic=function(e){var t="sound/"+e;o.bundle.load(t,r,(function(e,t){i.instance.playGameMusic(t,!0)}))},e.init=function(){},e.getRand=function(e){for(var n,r=this.rates[e],i=0,o=t(r);!(n=o()).done;){i+=n.value}for(var l=Math.round(Math.random()*i),u=r.length-1;u>=0;u--){var a=r[u];if(i-l<a)return u;i-=a}return Math.floor(Math.random()*this.cardlines[e].length)},e.randRusult=function(e,n){void 0===n&&(n=!1);var r=n?1.5:1;this.tryGold-=e*r;for(var i=[],o=0;o<3;o++)i[o]=this.cardlines[o][this.getRand(o)],i[o+3]=this.cardlines[o][this.getRand(o)],i[o+6]=this.cardlines[o][this.getRand(o)];for(var l,u=[this.getMultple(),this.getMultple(),this.getMultple()],a=0,s=this.checkPrize(i),d=s.prizeInfo,h=s.lines,f=t(d);!(l=f()).done;){a+=l.value.Odds*e/5*u[1]}return this.tryGold+=a,{openResult:{OpenNums:i,multiples:u},prizeInfo:d,prizeAmount:a,prizeIdx:h}},e.getMultple=function(){for(var e=[1,2,3,5,10,15],t=[30,15,10,6,3,2],n=0,r=0,i=t;r<i.length;r++){n+=i[r]}for(var o=0,l=Math.round(Math.random()*n),u=t.length-1;u>=0;u--){var a=t[u];if(n-l<a){o=e[u];break}n-=a}return o},e.getMultipleIndex=function(e){var t=e%5,n=Math.floor(e/5);return n>0&&(t+=n+3),t-=1},e.checkPrize=function(e){for(var t=function(e,t){for(var n=null,r=0,i=e[r];1==i;)i=e[++r];for(var o=++r;o<3&&(e[o]==i||1==e[o]);o++)r++;return this.odds[i-1]&&3==r&&(n={Odds:this.odds[i-1],PrizeNum:'{"Num":'+r+',"Symbol":'+i+"}",PrizeType:t}),n},n=[],r=[],i=0;i<this.lines.length;i++){for(var o=this.lines[i],l=[],u=0,a=o.length;u<a;u++)l[u]=e[o[u]];var s=t(l,i);s&&(n.push(s),r.push(o))}return{prizeInfo:n,lines:r}},e}());l.audio={AWARD1:"Win",BG:"Mg_bgm",BG2:"Wheel_BGM",END:"Reel_Stop",TURN:"Reel_Start",WILD:"Wild_Stop",BIGWIN:"Big_Win",EXP:"Extra_Bet_On",WHEEL_START:"Wheel_Rotate",WHEEL_END:"Wheel_end",WHEEL_UP:"Wheel_Extra_UP",FLY:"Fly",DOUBLE:"Double",FLY_WIN:"DoubleShow_Lv2"},l.tryGold=1e8,l.odds=[2,5,8,10,12,15,20,25],l.rates=[[8,8,8,8,8,8,8,44],[8,8,8,8,8,8,8,44],[300,120,75,60,50,40,30,24]],l.lines=[[0,1,2],[3,4,5],[6,7,8],[0,4,8],[6,4,2]],l.cardlines=[[1,2,3,4,5,6,7,8],[1,2,3,4,5,6,7,8],[1,2,3,4,5,6,7,8]],l.innerMultiples=[1e3,10,1,30,5,50,200,8,100,3,20,15],n._RF.pop()}}}));

System.register("chunks:///_virtual/Stone2Help.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./Stone2RoomAdapterConfig.ts"],(function(i){var t,e,n,o,r,_,l,a,s,u,c,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,_=i._decorator,l=i.RichText,a=i.Label,s=i.Component},function(i){u=i.default},function(i){c=i.adapterNode,p=i.helpViewAdapterInfo}],execute:function(){var R,f,h,d,g,I,P,b,F,T,G,N,m,O;r._RF.push({},"a5c67oPX7BApbAbquEE3pbZ","Stone2Help",void 0);var w=_.ccclass,y=_.menu,z=_.property;i("default",(R=w("Stone2Help"),f=y("game/StoneGame2/Stone2Help"),h=z(l),d=z(l),g=z(l),I=z(l),P=z(a),R(b=f((T=t((F=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),_=0;_<e;_++)r[_]=arguments[_];return t=i.call.apply(i,[this].concat(r))||this,n(t,"i18_INTRO_FGP_4",T,o(t)),n(t,"i18_INTRO_FGP_7",G,o(t)),n(t,"i18_INTRO_FGP_12",N,o(t)),n(t,"i18_INTRO_FGP_13",m,o(t)),n(t,"i18_INTRO_FGP_15",O,o(t)),t}e(t,i);var r=t.prototype;return r.onLoad=function(){this.onWindowResize=this.onWindowResize.bind(this);var i="<color=#ff0000> "+u.t("i18_INTRO_FGP_4_txt0")+"</color>";this.i18_INTRO_FGP_4.string=u.t("i18_INTRO_FGP_4",{txt0:i,img0:"<img src='Symbol_14' width=60 height=50 />"});var t="<color=#ff0000>"+u.t("i18_INTRO_FGP_7_txt0")+"</color>";this.i18_INTRO_FGP_7.string=u.t("i18_INTRO_FGP_7",{txt0:t,img0:"<img src='Symbol_14' width=60 height=50 />"});var e="<color=#ff0000> "+u.t("i18_INTRO_FGP_12_txt0")+"</color>";this.i18_INTRO_FGP_12.string=u.t("i18_INTRO_FGP_12",{txt0:e});var n=""+u.t("i18_INTRO_FGP_13_txt0"),o=""+u.t("i18_INTRO_FGP_13_txt1");this.i18_INTRO_FGP_13.string=u.t("i18_INTRO_FGP_13",{img0:"<img src='Symbol_14' width=60 height=50 />",img1:"<img src='Symbol_15' width=60 height=50 />",txt0:n,txt1:o}),this.i18_INTRO_FGP_15.string=u.t("i18_INTRO_FGP_15",{num0:1})},r.onWindowResize=function(){c(this.node,p)},r.onEnable=function(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},r.onDisable=function(){window.removeEventListener("resize",this.onWindowResize)},t}(s)).prototype,"i18_INTRO_FGP_4",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"i18_INTRO_FGP_7",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(F.prototype,"i18_INTRO_FGP_12",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(F.prototype,"i18_INTRO_FGP_13",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(F.prototype,"i18_INTRO_FGP_15",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=F))||b)||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/Stone2Room.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./ProxyMgr.ts","./GUtil.ts","./AudioManager.ts","./ConfigManager.ts","./DataManager.ts","./NetManager.ts","./ViewManager.ts","./ScrollNumLabel.ts","./Stone2BetItem.ts","./Common.ts","./Stone2Def.ts","./Stone2CardAni.ts","./Stone2Wheel.ts","./Stone2Proxy.ts","./GameDef.ts","./EventManager.ts","./LocalizedImage.ts","./Stone2RoomAdapterConfig.ts"],(function(e){var t,i,n,o,s,r,a,l,u,c,p,h,_,d,f,m,b,g,w,v,x,y,S,L,k,C,A,z,T,W,E,B,R,N,I,D,F,M,P,H,U,G,O,X,K;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,a=e._decorator,l=e.SpriteFrame,u=e.sp,c=e.Node,p=e.Label,h=e.Sprite,_=e.Prefab,d=e.v2,f=e.instantiate,m=e.v3,b=e.tween,g=e.Tween,w=e.UITransform,v=e.Vec3,x=e.UIOpacity,y=e.Button,S=e.Component},function(e){L=e.default},function(e){k=e.default},function(e){C=e.default},function(e){A=e.default},function(e){z=e.default},function(e){T=e.default,W=e.UserKey},function(e){E=e.default},function(e){B=e.default},function(e){R=e.default},function(e){N=e.default},function(e){I=e.Common},function(e){D=e.Stone2Def},function(e){F=e.default},function(e){M=e.default},function(e){P=e.default,H=e.StoneGame2Event},function(e){U=e.GameDef},function(e){G=e.default},function(e){O=e.LocalizedImage},function(e){X=e.adapterNode,K=e.stone2RoomAdapterInfo}],execute:function(){var Z,j,V,q,J,Q,Y,$,ee,te,ie,ne,oe,se,re,ae,le,ue,ce,pe,he,_e,de,fe,me,be,ge,we,ve,xe,ye,Se,Le,ke,Ce,Ae,ze,Te,We,Ee,Be,Re,Ne,Ie,De,Fe,Me,Pe,He,Ue,Ge,Oe,Xe,Ke,Ze,je,Ve,qe,Je,Qe,Ye,$e,et,tt,it,nt,ot,st,rt,at,lt,ut,ct,pt,ht,_t,dt,ft,mt,bt,gt,wt,vt,xt,yt,St,Lt,kt,Ct,At,zt,Tt,Wt,Et,Bt,Rt,Nt,It,Dt,Ft;r._RF.push({},"4b6a0buEZhOKqbICs3Wajj7","Stone2Room",void 0);var Mt=a.ccclass,Pt=a.property,Ht=a.menu,Ut=0,Gt=1,Ot=2,Xt=3,Kt=4,Zt=5,jt=6,Vt=7,qt=1.3;e("default",(Z=Mt("Stone2Room"),j=Ht("game/StoneGame2/Stone2Room"),V=Pt(l),q=Pt(u.SkeletonData),J=Pt(u.SkeletonData),Q=Pt(l),Y=Pt(F),$=Pt(F),ee=Pt(c),te=Pt(p),ie=Pt(R),ne=Pt(p),oe=Pt(u.Skeleton),se=Pt(R),re=Pt(c),ae=Pt(c),le=Pt(c),ue=Pt(u.Skeleton),ce=Pt(c),pe=Pt(c),he=Pt(c),_e=Pt(c),de=Pt(u.Skeleton),fe=Pt(h),me=Pt(l),be=Pt(_),ge=Pt(c),we=Pt(c),ve=Pt(u.Skeleton),xe=Pt(R),ye=Pt(u.Skeleton),Se=Pt(u.Skeleton),Le=Pt(h),ke=Pt(u.Skeleton),Ce=Pt(u.Skeleton),Ae=Pt(c),ze=Pt(c),Te=Pt(M),We=Pt(M),Ee=Pt(u.Skeleton),Be=Pt(c),Re=Pt(R),Ne=Pt(R),Ie=Pt(h),De=Pt(l),Fe=Pt(c),Me=Pt([c]),Pe=Pt(p),He=Pt(p),Ue=Pt(c),Z(Ge=j((Xe=t((Oe=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"cardSpriteFrames",Xe,o(t)),n(t,"spines",Ke,o(t)),n(t,"multiSpines",Ze,o(t)),n(t,"multipleSpriteFrames",je,o(t)),n(t,"aniLines",Ve,o(t)),n(t,"multipleLine",qe,o(t)),n(t,"node_start",Je,o(t)),n(t,"txt_bet",Qe,o(t)),n(t,"txt_win",Ye,o(t)),n(t,"txt_gold",$e,o(t)),n(t,"sp_bigWin",et,o(t)),n(t,"txt_bigwin",tt,o(t)),n(t,"node_bigwin",it,o(t)),n(t,"node_exp",nt,o(t)),n(t,"node_expTip",ot,o(t)),n(t,"spine_exp",st,o(t)),n(t,"notice_title",rt,o(t)),n(t,"node_spineMask",at,o(t)),n(t,"node_betSelect",lt,o(t)),n(t,"node_bets",ut,o(t)),n(t,"spine_betUp",ct,o(t)),n(t,"img_betUp",pt,o(t)),n(t,"betUpSpriteFrames",ht,o(t)),n(t,"pre_bet",_t,o(t)),n(t,"node_expTipHelp",dt,o(t)),n(t,"node_spineParent",ft,o(t)),n(t,"spine_mult",mt,o(t)),n(t,"txt_spineWin",bt,o(t)),n(t,"spine_winBg",gt,o(t)),n(t,"spine_winLight",wt,o(t)),n(t,"sprite_winNx",vt,o(t)),n(t,"nbEffect",xt,o(t)),n(t,"spine_bg",yt,o(t)),n(t,"node_logo",St,o(t)),n(t,"node_setting",Lt,o(t)),n(t,"wheel",kt,o(t)),n(t,"wheelWin",Ct,o(t)),n(t,"wheelExp",At,o(t)),n(t,"node_wheelWinBg",zt,o(t)),n(t,"txt_wheelWin1",Tt,o(t)),n(t,"txt_wheelWin2",Wt,o(t)),n(t,"sprite_multiple",Et,o(t)),n(t,"frame_multiples",Bt,o(t)),n(t,"node_wheelMask",Rt,o(t)),n(t,"bgList",Nt,o(t)),n(t,"winTitle",It,o(t)),n(t,"balanceTitle",Dt,o(t)),n(t,"bottomBgPortrait",Ft,o(t)),t._runDelay=.2,t._runTime=qt,t._state=Ut,t._lock=!1,t._bet=1e3,t._auto=!1,t._try=!1,t._showLineIndex=0,t._errCount=0,t._useExp=!1,t._showExp=!1,t.noticeIndex=0,t._logoTime=0,t._specialLock=!1,t._bigWinLock=!1,t.bigWinBgClickIndex=0,t._bigWinSoundId=0,t.isWaitBet=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){window.addEventListener("resize",this.onWindowResize.bind(this)),this.onWindowResize()},r.onWindowResize=function(){X(this.node,K);var e=I.isWindowLandscape();this.bgList[0].active=e,this.bgList[1].active=!e,this.winTitle.horizontalAlign=e?p.HorizontalAlign.CENTER:p.HorizontalAlign.RIGHT,this.balanceTitle.horizontalAlign=e?p.HorizontalAlign.CENTER:p.HorizontalAlign.RIGHT,this.bottomBgPortrait.active=!e},r.init=function(){this.txt_win.formatFunc=function(e){return I.moneyFormat(e)},this.txt_bigwin.formatFunc=function(e){return I.numberFormat(e/U.Constant.moneyRatio,2)},this.txt_spineWin.formatFunc=function(e){return I.numberFormat(e/U.Constant.moneyRatio,2)},this.txt_wheelWin1.formatFunc=function(e){return I.numberFormat(e/U.Constant.moneyRatio,2)},this.txt_wheelWin2.formatFunc=function(e){return I.numberFormat(e/U.Constant.moneyRatio,2)},this.spine_exp.setAnimation(0,"picture",!0)},r.start=function(){this.onClickHTMLStartBtn=this.onClickHTMLStartBtn.bind(this),window.addEventListener("customEventFromHTML",this.onClickHTMLStartBtn)},r.onClickHTMLStartBtn=function(){window.removeEventListener("customEventFromHTML",this.onClickHTMLStartBtn),this.init(),this.setData(P.betList.length>=5?P.betList[4]:P.betList[0]),this.wheel.onSelect(this._bet),this.wheelWin.node.active=!0,this.clear(),this.wheelWin.node.active=!1,this.initEvent(),this.updateBetlist(),this.updateGold(),this.changeBtnActive(!0),this.loadAni(),D.palyMusic(D.audio.BG)},r.loadAni=function(){for(var e=this,t=function(t){e.aniLines[t].setData({index:t,cards:e.cardSpriteFrames}),e.scheduleOnce((function(){e.aniLines[t].initCard()}),.1*t)},i=0;i<this.aniLines.length;i++)t(i);this.multipleLine.setData({index:3,cards:this.multipleSpriteFrames}),this.scheduleOnce((function(){e.multipleLine.initCard(),e.spine_bg.node.active=!0,e.spine_bg.setAnimation(0,"animation",!1),e.spine_bg.setCompleteListener((function(){e.spine_bg.setCompleteListener(null),e.spine_bg.node.active=!1}))}),.3)},r.hideSpine=function(){for(var e,t=this.node_spineParent.children,i=s(t);!(e=i()).done;){e.value.active=!1}for(var n,o=s(this.aniLines);!(n=o()).done;){n.value.show()}this.multipleLine.show(),this.spine_mult.setAnimation(0,"picture",!0)},r.showSpine=function(e,t){var i=this.node_spineParent.getChildByName("spine"+e),n=0,o="idle";if(t>4){n=2;o=["idle_red","idle_blue","idle_green"][t-5]}else if(t>0){n=1;o=["idle_J","idle_Q","idle_K","idle_A"][t-1]}if(i){i.active=!0;var s=i.getComponent(u.Skeleton);s.skeletonData=this.spines[n],s.setAnimation(0,o,!0)}var r=Math.floor(e/3),a=e%3;this.aniLines[a].hide(r)},r.showMultSpine=function(e){},r.getAngle=function(e,t){var i=t.x-e.x,n=t.y-e.y;return d(i,n).signAngle(d(1,0))/Math.PI*180},r.initEvent=function(){var e=this;P.on(H.UPDATE_BETLIST,this.updateBetlist,this),P.on(H.SELECT_BET,(function(t){e.node_betSelect.active=!1,e.setData(t)}),this),P.on(H.START,(function(){e.runStart()}),this),P.on(H.WHEEL_END,(function(){e.showWheelWinEnd()}),this),P.on(H.FINISH_RUN_INDEX,(function(t){if(3==t){var i=D.getMultipleIndex(P.result.openResult.multiples[1]);D.playMultple(i),e._lock=!1,e.showResult()}else{var n=P.result.openResult.OpenNums,o=n[t]-1,s=n[t+3]-1,r=n[t+6]-1;0!=o&&0!=s&&0!=r||D.palyAudio(D.audio.WILD)}}),this),G.instance.on(z.instance.protocolHall.login,this.onReconnectSuccess,this)},r.onReconnectSuccess=function(){this.isWaitBet&&this.sendBet()},r.updateBetlist=function(){this.node_bets.destroyAllChildren();for(var e,t=s(P.betList);!(e=t()).done;){var i=e.value,n=f(this.pre_bet);this.node_bets.addChild(n),n.getComponent(N).setBet(i,this._useExp),n.getComponent(N).onSelect(this._bet)}},r.setData=function(e){if(e){this._bet=e;var t=this._useExp?1.5:1;this.txt_bet.string=I.moneyFormat(e*t)}else this.onClickTryGame()},r.updateGold=function(e){void 0===e&&(e=0),this._try?this.txt_gold.string=I.moneyFormat(D.tryGold+e):this.txt_gold.string=I.moneyFormat(parseInt(T.instance.getUserDataForKey(W.GOLD)+e))},r.onClickBg=function(){this.node_betSelect.active&&(this.node_betSelect.active=!1),this._showExp&&this.onClickExp(),this.node_expTipHelp.active&&(this.node_expTipHelp.active=!this.node_expTipHelp.active),this.node_setting.active=!1},r.onClickSetting=function(){this.node_setting.active=!this.node_setting.active},r.onClickRecord=function(){C.openRecord("slotGemstone2")},r.onClickRank=function(){C.openRank("slotGemstone2")},r.onClickHelp=function(){I.loadPopBuddle("prefab/Stone2Help",P.bundle,(function(){}),(function(e){var t=f(e);B.instance.popNodeView(t,!0)}),!0)},r.onClickChangeBet=function(){this.checkReady()&&(this.node_betSelect.active=!this.node_betSelect.active)},r.onClickTryGame=function(){this._try=!0},r.onClickAuto=function(e){this._auto=!this._auto;var t=e.target.getChildByName("spine").getComponent(u.Skeleton);this._auto?t.setAnimation(0,"on",!0):t.setAnimation(0,"off",!0),this._state==Kt&&this._auto&&this.changeState(Ut)},r.onClickQuick=function(){0==this._runDelay?this._runDelay=.2:this._runDelay=0},r.onClickEXPCheck=function(e){if(this._state==Ut||this._state==Vt){this.hideSpine(),this._useExp=e.isChecked,this.node_expTip.active=this._useExp;var t=this._useExp?1.5:1;this.txt_bet.string=I.moneyFormat(this._bet*t),this.updateBetlist(),this.node_spineMask.active=!1,this._useExp?this.useExp():(this.img_betUp.spriteFrame=this.betUpSpriteFrames[0],this.spine_exp.setAnimation(0,"picture",!0)),this.wheel.exp=this._useExp,this.wheelWin.exp=this._useExp;for(var i,n=s(this.aniLines);!(i=n()).done;){i.value.useExp()}this.multipleLine.useSpecialExp(this._useExp)}else e.setIsCheckedWithoutNotify(!e.isChecked)},r.useExp=function(){var e=this;this.wheelExp.node.active=!0,this.wheelExp.setAnimation(0,I.isWindowLandscape()?"ExtraBet_Declare_L":"ExtraBet_Declare_S",!1),this.changeState(jt),D.palyAudio(D.audio.EXP),this.spine_exp.setAnimation(0,"fire",!1),this.spine_exp.addAnimation(0,"idle",!0),this.node_exp.getComponent(u.Skeleton).setAnimation(0,"animation",!1),this.node_expTip.scale=m(0,0,1),b(this.node_expTip).to(.3,{scale:m(.6,.6,1)}).to(.1,{scale:m(.5,.5,1)}).start(),this.spine_betUp.node.active=!0,this.spine_betUp.setAnimation(0,"animation",!1),this.spine_betUp.setCompleteListener((function(){e.spine_betUp.setCompleteListener(null),e.spine_betUp.node.active=!1,e.img_betUp.spriteFrame=e.betUpSpriteFrames[1]}));for(var t=["10x_intro","15x_intro","NearWin"],i=function(i){var n=f(e.sprite_winNx.node);n.getComponent(h).spriteFrame=e.multipleSpriteFrames[4+i],e.node.addChild(n),n.active=!0,n.getComponent(x).opacity=150;var o=e.spine_exp.getComponent(w).convertToWorldSpaceAR(v.ZERO);(o=e.getComponent(w).convertToNodeSpaceAR(o)).x+=100*Math.random(),o.y+=100*Math.random();var s=e.node_spineParent.getChildByName("spineNX"+(i+1)).getComponent(w).convertToWorldSpaceAR(v.ZERO);s=e.getComponent(w).convertToNodeSpaceAR(s);var r=d(o.x+.3*(s.x-o.x),o.y),a=d(o.x+.7*(s.x-o.x),o.y+.3*(s.y-o.y));n.setPosition(o.x,o.y),n.scale=m(0,0,1),e.multipleLine.hide(i),b(n).delay(.2*i).call((function(){b(n.getComponent(x)).to(.2,{opacity:255}).start()})).to(.2,{scale:m(1,1,1)}).bezierTo(.4,r,a,s).call((function(){var n=i,o=e.node_spineParent.getChildByName("spineNX"+(n+1));if(o){var s=t[i];o.active=!0;var r=o.getComponent(u.Skeleton);if(2==i){var a=e._useExp?e.multiSpines[2]:e.multiSpines[1];r.skeletonData=a,r.setAnimation(0,s,!1)}else{var l=e.multiSpines[0];r.skeletonData=l,r.setAnimation(0,"boom",!1),r.addAnimation(0,s,!1)}}})).call((function(){n.destroyFromParent()})).start()},n=0;n<3;n++)i(n);this.scheduleOnce((function(){e.nbEffect.node.active=!0,e.nbEffect.setAnimation(0,"intro",!1),e.nbEffect.setCompleteListener((function(){e.nbEffect.setCompleteListener(null),e.nbEffect.node.active=!1})),e.spine_mult.setAnimation(0,"idle",!1)}),.3)},r.onClickExp=function(){this._showExp=!this._showExp,g.stopAllByTarget(this.node_exp),this._showExp?b(this.node_exp).to(.5,{position:m(-170,this.node_exp.position.y)},{easing:"backOut"}).start():b(this.node_exp).to(.5,{position:m(-400,this.node_exp.position.y)}).start()},r.onClickExpHelp=function(){this.node_expTipHelp.active=!this.node_expTipHelp.active},r.checkReady=function(){return!(this._state!=Ut&&this._state!=Vt&&this._state!=Xt||this._specialLock||this._bigWinLock)},r.preStart=function(){if(this.onClickBg(),this.checkReady()&&!this._lock){var e=this._useExp?1.5:1,t=T.instance.getUserDataForKey(W.GOLD);if(!this._try&&t<this._bet*e)return I.showTip(L.lang.fishTip.gold),void(this._auto=!1);this.updateGold(-this._bet*e),this.clear(),this.sendBet(),this._state=Gt,this.changeBtnActive(!1),this._runTime=4665600001.3}},r.onClickStart=function(){this.preStart()},r.runStart=function(){this.isWaitBet=!1,D.palyAudio(D.audio.TURN),this._state=Gt,this._runTime=qt;for(var e=0;e<this.aniLines.length;e++)this.aniLines[e].run(0);this.multipleLine.run(0)},r.sendBet=function(){this._errCount=0,this._try||(this.isWaitBet=!0,E.instance.sendOnlineData(z.instance.ProtocolStone2.bet,{betAmount:this._bet+"",addition:this._useExp}))},r.clear=function(){this.txt_win.reset(),this.txt_spineWin.reset(),P.result=null,this.hideLines(),this.hideSpine(),this._showLineIndex=0,this.node_spineMask.active=!1,this.spine_winBg.node.active=!1,this.spine_winLight.node.active=!1,this.txt_wheelWin1.reset(),this.txt_wheelWin2.reset(),this.wheel.clear(),this.wheelWin.clear(),this.bigWinBgClickIndex=0,this._bigWinLock=!1,g.stopAllByTarget(this.sprite_winNx.node),this.sprite_winNx.node.active=!1,this.node_wheelMask.active=!1},r.showResult=function(){P.result&&this.checkAward()},r.checkAward=function(){P.result.openResult.isTurntable&&(this._specialLock=!0);var e=this._useExp?1.5:1;P.result.prizeAmount/this._bet/e>=5&&(this._bigWinLock=!0),P.result.prizeAmount>0||P.result.openResult.isTurntable?this.changeState(Xt):(this.changeState(Vt),this.changeBtnActive(!0))},r.changeState=function(e){var t=this;switch(e){case Ut:this._state=Ut;break;case Zt:this._state=Zt,this.node_bigwin.active=!0,this._runTime=4,this._bigWinLock=!1;var i=this._useExp?1.5:1,n=P.result.prizeAmount/this._bet/i,o="bigwin_intro",s=180;n>=25?(o="superwin_intro",s=540,this._runTime=12):n>=15&&(o="megawin_intro",s=360,this._runTime=8),this.txt_bigwin.stepCount=s,this.txt_bigwin.value=P.result.prizeAmount,this.sp_bigWin.setAnimation(0,o,!1),this.sp_bigWin.setCompleteListener((function(){t.sp_bigWin.setCompleteListener(null),t.node_bigwin.active=!1,t.txt_bigwin.reset()})),D.palyAudio(D.audio.BIGWIN,(function(e){t._bigWinSoundId=e}));break;case Xt:this._state=Xt,this._runTime=2,this.showAward();break;case Ot:this.onClickStop();break;case Gt:this.onClickStart();break;case Kt:this._state=Kt,this._runTime=2,this.showSignleLine();break;case jt:this._state=jt,this._runTime=1.5;break;case Vt:this._state=Vt,this._runTime=1}},r.showAward=function(){this._state==Xt&&(P.result.prizeAmount>0&&D.palyAudio(D.audio.AWARD1),this.changeBtnActive(!0),P.result.openResult.isTurntable?(this.showLines(),this.showWheelWin()):P.result.prizeAmount&&(this.showLines(),this.showWin(),this.updateGold(),this.txt_win.value=P.result.prizeAmount))},r.showWheelWin=function(){var e=this;this.txt_wheelWin1.value=P.result.prizeAmount-P.result.openResult.turntablePrize.prizeAmount,this.node_wheelWinBg.active=!0,this.node_wheelWinBg.scale=m(0,0,0),b(this.node_wheelWinBg).to(.2,{scale:m(1.1,1.1,1)}).to(.1,{scale:m(1,1,1)}).call((function(){e.wheel.playHide((function(){e.wheel.node.active=!1,e.wheelWin.node.active=!0,e.wheelWin.onSelect(e._bet),e.wheelWin.setData(P.result.openResult.turntablePrize,(function(){e.wheelWin.node.active=!1,e.wheel.node.active=!0,e.wheel.playShow(P.result.openResult.turntablePrize)})),e.node_wheelMask.active=!0})),D.palyMusic(D.audio.BG2)})).start()},r.showWheelWinEnd=function(){var e=this,t=P.result.openResult.turntablePrize;this.txt_wheelWin2.value=t.prizeAmount/t.edgeMultipleList[t.prizeIndex],this.node_wheelMask.active=!1;var i=1;if(this._useExp){var n=D.getMultipleIndex(t.edgeMultipleList[t.prizeIndex]);if(n>0){i=3;var o=f(this.sprite_multiple.node);o.getComponent(h).spriteFrame=this.frame_multiples[n],o.active=!0,o.parent=this.sprite_multiple.node.parent;var s=this.txt_wheelWin2.getComponent(w).convertToWorldSpaceAR(v.ZERO);s=o.parent.getComponent(w).convertToNodeSpaceAR(s),D.palyAudio(D.audio.DOUBLE),b(o).to(.2,{scale:m(2,2,1)}).delay(1).call((function(){D.palyAudio(D.audio.FLY)})).to(.5,{position:s}).call((function(){o.destroyFromParent(),e.txt_wheelWin2.value=t.prizeAmount,D.palyAudio(D.audio.FLY_WIN)})).start()}}b(this.node_wheelWinBg).delay(i).call((function(){e.spine_winLight.node.active=!0,e.spine_winLight.setAnimation(0,"intro",!1),e.spine_winLight.setCompleteListener((function(){e.spine_winLight.setCompleteListener(null),e.spine_winLight.node.active=!1;var t=e._useExp?1.5:1;P.result.prizeAmount/e._bet/t>=5&&e.changeState(Zt)}));var t=e.node_spineParent.getChildByName("spineNX2");if(t){e.multipleLine.hide(1);var i=P.result.openResult.multiples[1],n=t.getComponent(u.Skeleton);if(t.active=!0,-1==i){var o=e._useExp?e.multiSpines[2]:e.multiSpines[1];n.skeletonData=o,n.setAnimation(0,"Win",!0)}}})).delay(1).to(.2,{scale:m(0,0,1)}).call((function(){e._specialLock=!1,e.wheelWin.clear(),e.txt_win.value=P.result.prizeAmount,e.updateGold(),D.palyMusic(D.audio.BG)})).start()},r.showWin=function(){var e=this;this.spine_winBg.node.active=!0,this.spine_winBg.setAnimation(0,"intro",!1),this.spine_winBg.addAnimation(0,"picture",!0),this.txt_spineWin.value=P.result.prizeAmount/P.result.openResult.multiples[1],this.spine_winBg.setCompleteListener((function(){e.spine_winBg.setCompleteListener(null),P.result.openResult.multiples[1]>1?(D.palyAudio(D.audio.AWARD1),e.sprite_winNx.node.active=!0,e.sprite_winNx.node.setPosition(332,e.sprite_winNx.node.position.y),e.sprite_winNx.node.getComponent(x).opacity=150,b(e.sprite_winNx.node).to(.5,{position:m(0,e.sprite_winNx.node.position.y)}).call((function(){e.txt_spineWin.value=P.result.prizeAmount,e.sprite_winNx.node.active=!1,e.spine_winLight.node.active=!0,e.spine_winLight.setAnimation(0,"intro",!1),e.spine_winLight.setCompleteListener((function(){e.spine_winLight.setCompleteListener(null),e.scheduleOnce((function(){e.spine_winBg.node.active=!1}),1),e.spine_winLight.node.active=!1;var t=e._useExp?1.5:1;P.result.prizeAmount/e._bet/t>=5&&e.changeState(Zt)}))})).start()):e.scheduleOnce((function(){e.spine_winBg.node.active=!1,e._bigWinLock&&e.changeState(Zt)}),1)}))},r.showLines=function(){var e,t=null==(e=P.result)?void 0:e.prizeIdx;if(!t||0==t.length)return!1;var i=P.result.openResult.OpenNums;this.hideSpine(),this.node_spineMask.active=!0;for(var n=0;n<t.length;n++)for(var o=t[n],s=0;s<o.length;s++){var r=o[s],a=i[r]-1;this.showSpine(r,a)}var l=this.node_spineParent.getChildByName("spineNX2");if(l){this.multipleLine.hide(1);var c=l.getComponent(u.Skeleton);l.active=!0;var p=P.result.openResult.multiples[1];if(-1==p){var h=this._useExp?this.multiSpines[2]:this.multiSpines[1];c.skeletonData=h,c.setAnimation(0,"Idle",!0)}else{c.skeletonData=this.multiSpines[0];var _=p+"x_idle";c.setAnimation(0,_,!0)}}return this.spine_mult.setAnimation(0,"idle",!0),!0},r.showSignleLine=function(){},r.hideLines=function(){},r.onClickBigWin=function(){this.bigWinBgClickIndex++,1==this.bigWinBgClickIndex?this.txt_bigwin.reset(P.result.prizeAmount):this._runTime=0},r.onClickStop=function(){var e=this;if(P.result&&this._state==Gt)if(this._runTime>1)this._runTime-=1;else if(!this._lock){this._lock=!0,this._state=Ot,this._runTime=1.5;for(var t=P.result.openResult.OpenNums,i=function(i){var n=[t[i]-1,t[i+3]-1,t[i+6]-1];e.scheduleOnce((function(){e.aniLines[i].showResult(n)}),e._runDelay*i)},n=0;n<this.aniLines.length;n++)i(n);for(var o,r=P.result.openResult.multiples,a=[],l=s(r);!(o=l()).done;){var u=o.value;if(u<0)this._useExp?a.push(6):a.push(7);else if(u<=3)a.push(u-1);else{var c=Math.floor(u/5);c+=2,a.push(c)}}this.sprite_winNx.spriteFrame=this.multipleSpriteFrames[a[1]],D.palyAudio(D.audio.END);for(var p,h=!1,_=s(P.result.prizeInfo);!(p=_()).done;){var d=p.value;if(JSON.parse(d.PrizeNum).Symbol>5){h=!0;break}}var f=function(){e.nbEffect.node.active=!1,e.multipleLine.showResult(a)};h?(this._runTime=3.5,this.nbEffect.node.active=!0,this.nbEffect.setAnimation(0,"quick",!0),this.scheduleOnce((function(){f()}),2)):this.scheduleOnce((function(){f()}),3*this._runDelay)}},r.changeBtnActive=function(e){this.node_start.getComponent(y).interactable=e},r.showLogo=function(){this.node_logo.active=!0,this.notice_title.active=!1,this._logoTime=2;var e=this.node_logo.getComponent(x);e.opacity=0,b(e).to(.8,{opacity:255}).start()},r.updateNotice=function(e){this.node_logo.active?(this._logoTime-=e,this._logoTime<0&&(this.node_logo.active=!1,this.notice_title.active=!0,this.changeNotice())):(this.notice_title.setPosition(this.notice_title.position.x-3,this.notice_title.position.y),this.notice_title.getPosition().x<-this.notice_title.getComponent(w).width-500&&this.changeNotice())},r.changeNotice=function(){var e=["String_01","String_02","","String_03","String_04",""];2==this.noticeIndex||5==this.noticeIndex?this.showLogo():(this.notice_title.getComponent(O).key=e[this.noticeIndex],this.notice_title.setPosition(400,this.notice_title.position.y)),this.noticeIndex++,this.noticeIndex>=e.length&&(this.noticeIndex=0)},r.update=function(e){switch(this.updateNotice(e),this._state){case Gt:this._runTime-=e,this._runTime<=0&&P.result&&this.changeState(Ot);break;case Ot:this._runTime-=e,this._runTime<=0&&this.changeState(Ut);break;case Xt:this._runTime-=e,this._runTime<=0&&(this.changeState(Ut),this.changeBtnActive(!0));break;case Zt:this._runTime-=e,this._runTime<=0&&(A.instance.stopSound(this._bigWinSoundId),this.node_bigwin.active=!1,this.txt_bigwin.reset(),this._state=Xt);break;case Ut:this._auto&&this.onClickStart();break;case Kt:this._runTime-=e,this._runTime<=0&&(this._runTime=2,this._showLineIndex++,this.showSignleLine());break;case jt:case Vt:this._runTime-=e,this._runTime<=0&&this.changeState(Ut)}},r.onDestroy=function(){k.close(this)},t}(S)).prototype,"cardSpriteFrames",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ke=t(Oe.prototype,"spines",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ze=t(Oe.prototype,"multiSpines",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=t(Oe.prototype,"multipleSpriteFrames",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ve=t(Oe.prototype,"aniLines",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qe=t(Oe.prototype,"multipleLine",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Oe.prototype,"node_start",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Oe.prototype,"txt_bet",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Oe.prototype,"txt_win",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Oe.prototype,"txt_gold",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Oe.prototype,"sp_bigWin",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Oe.prototype,"txt_bigwin",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Oe.prototype,"node_bigwin",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Oe.prototype,"node_exp",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(Oe.prototype,"node_expTip",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(Oe.prototype,"spine_exp",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Oe.prototype,"notice_title",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Oe.prototype,"node_spineMask",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(Oe.prototype,"node_betSelect",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(Oe.prototype,"node_bets",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=t(Oe.prototype,"spine_betUp",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=t(Oe.prototype,"img_betUp",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=t(Oe.prototype,"betUpSpriteFrames",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_t=t(Oe.prototype,"pre_bet",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=t(Oe.prototype,"node_expTipHelp",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=t(Oe.prototype,"node_spineParent",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=t(Oe.prototype,"spine_mult",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=t(Oe.prototype,"txt_spineWin",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=t(Oe.prototype,"spine_winBg",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=t(Oe.prototype,"spine_winLight",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=t(Oe.prototype,"sprite_winNx",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=t(Oe.prototype,"nbEffect",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=t(Oe.prototype,"spine_bg",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=t(Oe.prototype,"node_logo",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=t(Oe.prototype,"node_setting",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=t(Oe.prototype,"wheel",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=t(Oe.prototype,"wheelWin",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=t(Oe.prototype,"wheelExp",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=t(Oe.prototype,"node_wheelWinBg",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=t(Oe.prototype,"txt_wheelWin1",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=t(Oe.prototype,"txt_wheelWin2",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=t(Oe.prototype,"sprite_multiple",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=t(Oe.prototype,"frame_multiples",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rt=t(Oe.prototype,"node_wheelMask",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=t(Oe.prototype,"bgList",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),It=t(Oe.prototype,"winTitle",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=t(Oe.prototype,"balanceTitle",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=t(Oe.prototype,"bottomBgPortrait",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=Oe))||Ge)||Ge));r._RF.pop()}}}));

System.register("chunks:///_virtual/Stone2Scene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigManager.ts","./EventManager.ts","./NetManager.ts","./ViewManager.ts","./Common.ts","./Stone2Def.ts","./Stone2Proxy.ts"],(function(n){var e,t,o,i,s,a,c,r,l,u,f,h,p,d,m,S;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){s=n.cclegacy,a=n._decorator,c=n.Prefab,r=n.instantiate,l=n.Component},function(n){u=n.default},function(n){f=n.default},function(n){h=n.default},function(n){p=n.default},function(n){d=n.Common},function(n){m=n.Stone2Def},function(n){S=n.default}],execute:function(){var g,v,w,b,y,P,C,_;s._RF.push({},"cf2954ySKJCrbu++qfEvKnS","Stone2Scene",void 0);var D=a.ccclass,E=a.menu,k=a.property;n("default",(g=D("Stone2Scene"),v=E("game/StoneGame2/Stone2Scene"),w=k(c),b=k(c),g(y=v((C=e((P=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s))||this,o(e,"pre_desk",C,i(e)),o(e,"pre_room",_,i(e)),e.node_desk=null,e.node_room=null,e}t(e,n);var s=e.prototype;return s.onLoad=function(){m.init()},s.start=function(){var n=r(this.pre_room);this.node.addChild(n),d.updateProgress(1)},s.gameShow=function(){d.closeWait()},s.disConnect=function(){d.showWait()},s.closePop=function(n){p.instance.closePopView()},s.onEnable=function(){S.registSocketEvent(),f.instance.on(u.instance.eventTransform.gameShow,this.gameShow,this),f.instance.on(u.instance.protocolHall.login,this.gameShow,this),f.instance.on(u.instance.ButtonEvent.closePop,this.closePop,this),f.instance.on(u.instance.eventTransform.disConnect,this.disConnect,this),h.instance.sendOnlineData(u.instance.ProtocolStone2.betList,{})},s.onDisable=function(){S.removeSocketEvent(),f.instance.off(u.instance.eventTransform.gameShow,this.gameShow,this),f.instance.off(u.instance.protocolHall.login,this.gameShow,this),f.instance.off(u.instance.ButtonEvent.closePop,this.closePop,this),f.instance.on(u.instance.eventTransform.disConnect,this.disConnect,this)},e}(l)).prototype,"pre_desk",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(P.prototype,"pre_room",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=P))||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/Stone2Wheel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts","./ProxyMgr.ts","./Stone2Def.ts","./Stone2Proxy.ts","./GameDef.ts"],(function(t){var e,i,n,s,o,a,l,r,h,p,_,u,m,c,d,f,b,w,E,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,l=t._decorator,r=t.SpriteFrame,h=t.Sprite,p=t.Label,_=t.sp,u=t.Component,m=t.tween,c=t.v3},function(t){d=t.Common},function(t){f=t.default},function(t){b=t.Stone2Def},function(t){w=t.default,E=t.StoneGame2Event},function(t){g=t.GameDef}],execute:function(){var v,L,y,A,S,B,x,D,W,F,X,z,C,I,R,M;a._RF.push({},"c9071JeDKhBL5lBXgyAmI6Q","Stone2Wheel",void 0);var T=l.ccclass,G=l.property,H=l.menu,k=0,P=1,N=2,O=3;t("default",(v=T("Stone2Wheel"),L=H("game/StoneGame2/Stone2Wheel"),y=G(r),A=G(h),S=G(p),B=G(_.Skeleton),x=G(_.Skeleton),D=G(_.Skeleton),v(W=L((X=e((F=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"multFrames",X,s(e)),n(e,"sprite_mults",z,s(e)),n(e,"txt_mults",C,s(e)),n(e,"spine_wheel",I,s(e)),n(e,"spine_bottom",R,s(e)),n(e,"spine_top",M,s(e)),e._speed=5,e._angle=0,e._data=void 0,e._useExp=!1,e._count=0,e._state=k,e.boneList=["Bottom1_EX","Bottom2_EX","Bottom3_EX","Bottom4_EX","Bottom5_EX","Bottom6_EX","Bottom7_EX","Bottom8_EX","Bottom9_EX","Bottom10_EX","Bottom11_EX","Bottom12_EX"],e.bgList=["wheel_BG_None","wheel_BG_highpay"],e.onShowResultFinish=void 0,e}i(e,t);var a=e.prototype;return a.playHide=function(t){var e=this;this.spine_wheel.setAnimation(0,"End",!1),this.spine_bottom.setAnimation(0,"End",!1),this.spine_top.setAnimation(0,"End",!1),this.spine_wheel.setCompleteListener((function(){e.spine_wheel.setCompleteListener(null),t()}))},a.playShow=function(t){if(this._angle=30*t.prizeIndex-360,this.spine_wheel.node.angle=this._angle%360,this.spine_wheel.setAnimation(0,"Reset_L",!1),this.spine_wheel.addAnimation(0,"Idle",!1),this.spine_bottom.setAnimation(0,"Reset_L",!1),this.spine_bottom.addAnimation(0,"Idle",!1),this.spine_top.setAnimation(0,"Reset_L",!1),this.spine_top.addAnimation(0,"Idle",!1),this._useExp)for(var e=0;e<12;e++){var i=t.edgeMultipleList[e];if(i>1){this.sprite_mults[e].node.active=!0;var n=i%5,s=Math.floor(i/5);s>0&&(n+=s+3),n-=1,this.sprite_mults[e].spriteFrame=this.multFrames[n],this.spine_wheel.setAttachment(this.boneList[e],this.bgList[1])}else this.sprite_mults[e].node.active=!1}w.emit(E.WHEEL_END),this._speed=5,this._state=P,this.showWin()},a.setData=function(t,e){var i=this;this._data=t,this.onShowResultFinish=e,this.spine_wheel.node.angle=0,this._angle=0,this.spine_wheel.setAnimation(0,"Declare",!1),this.spine_bottom.setAnimation(0,"Declare",!1),this.spine_top.setAnimation(0,"Declare",!1),this._state=P,this.spine_wheel.setCompleteListener((function(){i.spine_wheel.setCompleteListener(null);var e=0;if(i._useExp)for(var n=function(n){i.scheduleOnce((function(){var e=t.edgeMultipleList[n];if(e>1){i.sprite_mults[n].node.active=!0;var s=e%5,o=Math.floor(e/5);o>0&&(s+=o+3),s-=1,i.sprite_mults[n].spriteFrame=i.multFrames[s],i.spine_wheel.setAttachment(i.boneList[n],i.bgList[1]),m(i.sprite_mults[n].node).to(.1,{scale:c(1.5,1.5,1)}).delay(.1).to(.1,{scale:c(1,1,1)}).start(),b.palyAudio(b.audio.WHEEL_UP)}else i.sprite_mults[n].node.active=!1}),.2*n),e+=.2},s=0;s<12;s++)n(s);i.scheduleOnce((function(){i._speed=200,i._state=N,i.scheduleOnce((function(){i._state=O,b.palyAudio(b.audio.WHEEL_END)}),4),i.spine_top.setAnimation(0,"Spin_Loop",!0),b.palyAudio(b.audio.WHEEL_START)}),1+e)}))},a.onLoad=function(){w.on(E.SELECT_BET,this.onSelect,this);for(var t=0;t<12;t++)this.sprite_mults[t].node.active=!1},a.onSelect=function(t){this._count=t;for(var e=0;e<12;e++)this.txt_mults[e].string=d.numberFormat(t*b.innerMultiples[e]/g.Constant.moneyRatio,2)},a.moveToEnd=function(){var t=this;this._angle=30*this._data.prizeIndex-360,this.spine_wheel.setAnimation(0,"Win1",!1),this.spine_bottom.setAnimation(0,"Win1",!1),this.spine_top.setAnimation(0,"Win1",!1),this.spine_wheel.setCompleteListener((function(){t.onShowResultFinish()}))},a.showWin=function(){this.spine_top.setAnimation(0,"Win_Loop",!0)},a.clear=function(){for(var t=0;t<12;t++)this.sprite_mults[t].node.active=!1,this.spine_wheel.setAttachment(this.boneList[t],this.bgList[0]);this._state=k,this.spine_top.setAnimation(0,"Idle",!1)},a.update=function(t){this._state!=P&&(this._angle-=t*this._speed,this.spine_wheel.node.angle=this._angle%360,this._state==N&&(this._speed+=2),this._state==O&&(this._speed>100&&this._speed--,Math.abs(this.spine_wheel.node.angle+30*this._data.prizeIndex)<10&&(this._state=P,this.spine_wheel.node.angle=30*this._data.prizeIndex-360,this.moveToEnd())))},a.onDestroy=function(){f.close(this)},o(e,[{key:"exp",set:function(t){this._useExp=t}}]),e}(u)).prototype,"multFrames",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(F.prototype,"sprite_mults",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(F.prototype,"txt_mults",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(F.prototype,"spine_wheel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(F.prototype,"spine_bottom",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(F.prototype,"spine_top",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=F))||W)||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/StoneGame2",["./Stone2BetItem.ts","./Stone2CardAni.ts","./Stone2Def.ts","./Stone2Help.ts","./Stone2Room.ts","./Stone2Scene.ts","./Stone2Wheel.ts"],(function(){return{setters:[null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/StoneGame2', 'chunks:///_virtual/StoneGame2'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});